(()=>{"use strict";var e={9850:(e,t,r)=>{r.r(t),r.d(t,{default:()=>zt});var n=r(4942),a=r(885),o=(r(2462),r(5004)),i=r(5705),s=r(8796),l=r(4387),u=r(2010),c=r(9385),d=r(1054),f=r(5326),p=r(5288),g=r(3287),h=r(9702),m=r(9910),y=r(1318),b=r(5861),v=r(5934);const x=JSON.parse('{"greeting":"Hello","email":"email","first name":"first name","last name":"last name","phone number":"phone number","password":"password","select user type":"select user type","therapist":"therapist","patient":"patient","registration":"registration","login":"login","forgot your password":"forgot your password?","remember me":"remember me","start recording":"start recording","stop recording":"stop recording","list of words":"list of words","settings":"settings","new password":"new password","verify password":"verify password","capital letter":"capital letter","lower-case letter":"lower case letter","special character":"special character","email is required":"email is required","email is invalid":"email is invalid","name is required":"name is required","name must not exceed 50 characters":"name must not exceed 50 characters","phone number is required":"phone number is required","phone number must contain only numbers":"phone number must contain only numbers","phone number must be at least 10 digits":"phone number must be at least 10 digits","phone number must not exceed 15 digits":"phone number must not exceed 15 digits","password is required":"password is required","password must be at least 8 characters":"password must be at least 8 characters","password must include at least one letter, one number, and one symbolic character":"password must include at least one letter, one number, and one symbolic character","passwords do not match":"passwords do not match","type is required":"type is required","created successfully":"created successfully","don\'t have an account":"Don\'t have an account?","register here":"Register here","username exists":"Username already exists","enter your email":"Enter your email","sending":"Sending...","reset password":"Reset password","enter your code":"Enter your code","try later":"Try later...","verifying":"Verifying...","next":"Next","no email sent":"No email sent?","save":"Save","password changed":"Password Changed!","error creating user":"error creating user"}'),j=JSON.parse('{"greeting":"\u05e9\u05dc\u05d5\u05dd","email":"\u05d3\u05d5\u05d0\u05e8 \u05d0\u05dc\u05e7\u05d8\u05e8\u05d5\u05e0\u05d9","first name":"\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9","last name":"\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4","phone number":"\u05de\u05e1\u05e4\u05e8 \u05d8\u05dc\u05e4\u05d5\u05df","password":"\u05e1\u05d9\u05e1\u05de\u05d0","select user type":"\u05d1\u05d7\u05e8 \u05e1\u05d5\u05d2 \u05de\u05e9\u05ea\u05de\u05e9","therapist":"\u05de\u05d8\u05e4\u05dc","patient":"\u05de\u05d8\u05d5\u05e4\u05dc","registration":"\u05d4\u05e8\u05e9\u05de\u05d4","login":"\u05db\u05e0\u05d9\u05e1\u05d4 \u05dc\u05d7\u05e9\u05d1\u05d5\u05df","forgot your password":"\u05e9\u05db\u05d7\u05ea \u05e1\u05d9\u05e1\u05de\u05d0?","remember me":"\u05d6\u05db\u05d5\u05e8 \u05d0\u05d5\u05ea\u05d9","start recording":"\u05d4\u05e7\u05dc\u05d8\u05d4 \u05d7\u05d3\u05e9\u05d4","stop recording":"\u05e2\u05e6\u05d9\u05e8\u05ea \u05d4\u05d4\u05e7\u05dc\u05d8\u05d4","list of words":"\u05e8\u05e9\u05d9\u05de\u05ea \u05de\u05d9\u05dc\u05d9\u05dd","settings":"\u05d4\u05d2\u05d3\u05e8\u05d5\u05ea","new password":"\u05e1\u05d9\u05e1\u05de\u05d0 \u05d7\u05d3\u05e9\u05d4","verify password":"\u05d0\u05d9\u05de\u05d5\u05ea \u05e1\u05d9\u05e1\u05de\u05d0","capital letter":"\u05d0\u05d5\u05ea \u05d2\u05d3\u05d5\u05dc\u05d4","lower-case letter":"\u05d0\u05d5\u05ea \u05e7\u05d8\u05e0\u05d4","special character":"\u05ea\u05d5 \u05de\u05d9\u05d5\u05d7\u05d3","email is required":"\u05e0\u05d3\u05e8\u05e9 \u05d3\u05d5\u05d0\u05e8 \u05d0\u05dc\u05e7\u05d8\u05e8\u05d5\u05e0\u05d9","email is invalid":"\u05d3\u05d5\u05d0\u05e8 \u05d0\u05dc\u05e7\u05d8\u05e8\u05d5\u05e0\u05d9 \u05dc\u05d0 \u05d7\u05d5\u05e7\u05d9","name is required":"\u05e0\u05d3\u05e8\u05e9 \u05e9\u05dd","name must not exceed 50 characters":"\u05d4\u05e9\u05dd \u05dc\u05d0 \u05d9\u05e2\u05dc\u05d4 \u05e2\u05dc 50 \u05ea\u05d5\u05d5\u05d9\u05dd","phone number is required":"\u05e0\u05d3\u05e8\u05e9 \u05de\u05e1\u05e4\u05e8 \u05d8\u05dc\u05e4\u05d5\u05df","phone number must contain only numbers":"\u05de\u05e1\u05e4\u05e8 \u05d8\u05dc\u05e4\u05d5\u05df \u05d9\u05db\u05d9\u05dc \u05e1\u05e4\u05e8\u05d5\u05ea \u05d1\u05dc\u05d1\u05d3","phone number must be at least 10 digits":"\u05de\u05e1\u05e4\u05e8 \u05e1\u05e4\u05e8\u05d5\u05ea \u05de\u05d9\u05e0\u05de\u05d9\u05dc\u05d9 \u05d4\u05d5\u05d0 10","phone number must not exceed 15 digits":"\u05de\u05e1\u05e4\u05e8 \u05e1\u05e4\u05e8\u05d5\u05ea \u05de\u05e7\u05e1\u05d9\u05de\u05dc\u05d9 \u05d4\u05d5\u05d0 15","password is required":"\u05e0\u05d3\u05e8\u05e9\u05ea \u05e1\u05d9\u05e1\u05de\u05d0","password must be at least 8 characters":"\u05e1\u05d9\u05e1\u05de\u05d0 \u05d7\u05d9\u05d9\u05d1\u05ea \u05dc\u05d4\u05db\u05d9\u05dc 8 \u05ea\u05d5\u05d5\u05d9\u05dd \u05dc\u05e4\u05d7\u05d5\u05ea","password must include at least one letter, one number, and one symbolic character":"\u05e1\u05d9\u05e1\u05de\u05d0 \u05d7\u05d9\u05d9\u05d1\u05ea \u05dc\u05db\u05dc\u05d5\u05dc \u05dc\u05e4\u05d7\u05d5\u05ea \u05d0\u05d5\u05ea \u05d0\u05d7\u05ea, \u05e1\u05e4\u05e8\u05d4 \u05d0\u05d7\u05ea, \u05d5\u05ea\u05d5 \u05de\u05d9\u05d5\u05d7\u05d3 \u05d0\u05d7\u05d3","passwords do not match":"\u05d4\u05e1\u05d9\u05e1\u05de\u05d0\u05d5\u05ea \u05d0\u05d9\u05e0\u05df \u05ea\u05d5\u05d0\u05de\u05d5\u05ea","type is required":"\u05e0\u05d3\u05e8\u05e9 \u05e1\u05d5\u05d2","created successfully":"\u05e0\u05d5\u05e6\u05e8 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4","don\'t have an account":"\u05d0\u05d9\u05df \u05dc\u05da \u05d7\u05e9\u05d1\u05d5\u05df?","register here":"\u05d4\u05d9\u05e8\u05e9\u05dd \u05db\u05d0\u05df","username exists":"\u05de\u05e9\u05ea\u05de\u05e9 \u05d6\u05d4 \u05db\u05d1\u05e8 \u05e7\u05d9\u05d9\u05dd","enter your email":"\u05d4\u05db\u05e0\u05e1 \u05d3\u05d5\u05d0\u05e8 \u05d0\u05dc\u05e7\u05d8\u05e8\u05d5\u05e0\u05d9","sending":"...\u05e9\u05dc\u05d9\u05d7\u05d4","reset password":"\u05d0\u05d9\u05e4\u05d5\u05e1 \u05e1\u05d9\u05e1\u05de\u05d4","enter your code":"\u05d4\u05db\u05e0\u05e1 \u05e7\u05d5\u05d3","try later":"...\u05e0\u05e1\u05d4 \u05de\u05d0\u05d5\u05d7\u05e8 \u05d9\u05d5\u05ea\u05e8","verifying":"...\u05de\u05d0\u05de\u05ea","next":"\u05d4\u05d1\u05d0","no email sent":"\u05dc\u05d0 \u05e7\u05d1\u05dc\u05ea \u05de\u05d9\u05d9\u05dc?","save":"\u05e9\u05de\u05d5\u05e8","password changed":"\u05d4\u05e1\u05d9\u05e1\u05de\u05d4 \u05e9\u05d5\u05e0\u05ea\u05d4!","error creating user":"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d9\u05e6\u05d9\u05e8\u05ea \u05de\u05e9\u05ea\u05de\u05e9"}');var w=r(519),C=new v.I18n;C.translations={en:x,he:j};var P={getLanguage:function(){return C.locale},storeLanguage:function(){var e=(0,b.default)((function*(e){try{yield w.default.setItem("language",e)}catch(t){console.log(t)}}));return function(t){return e.apply(this,arguments)}}(),getLanguageFromStorage:function(){var e=(0,b.default)((function*(){try{return yield w.default.getItem("language")}catch(e){console.log(e)}}));return function(){return e.apply(this,arguments)}}(),initializeLanguage:function(){var e=(0,b.default)((function*(){try{var e=yield P.getLanguageFromStorage();C.locale=e||"en"}catch(t){console.error("Error setting language:",t),C.locale="en"}}));return function(){return e.apply(this,arguments)}}(),translate:function(e){try{return C.t(e)}catch(t){console.log(t)}}};const S=r.p+"static/media/100.7a72aeb5b237ca5f6ecb.png";var O=u.default.create({whitePaper:{backgroundColor:"white",padding:20,borderRadius:10,borderWidth:1,borderColor:"#ccc",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.5,shadowRadius:2,elevation:3,marginTop:40,maxWidth:300,alignSelf:"center",alignItems:"center",justifyContent:"center"}}),I=r(1130),T=r(7255),N=r(2629),E=u.default.create({button:{backgroundColor:"green",borderRadius:8,paddingVertical:10,alignItems:"center",marginTop:16,marginBottom:12},buttonText:{color:"#fff",fontWeight:"bold",fontSize:16}});const D=function(e){var t=e.onPress,r=e.title,n=e.isDisabled,a=e.buttonWidth;return(0,N.jsx)(f.default,{accessible:!0,accessibilityLabel:r,style:[E.button,{opacity:n?.5:1,width:a||"auto"}],onPress:t,children:(0,N.jsx)(d.default,{style:E.buttonText,children:r})})};var L=r(6591),k=r(6901),B=u.default.create({container:{marginBottom:5,position:"relative"},input:{height:50,borderColor:"#ccc",borderWidth:1,marginBottom:5,borderRadius:8,fontSize:16},eyeIcon:{position:"absolute",right:12,top:20}});const R=function(e){var t=e.value,r=e.onChangeText,n=e.placeholder,i=e.secure,s=e.error,l=(0,o.useState)(!1),u=(0,a.default)(l,2),d=u[0],p=u[1];return(0,N.jsxs)(c.default,{style:B.container,accessible:!0,children:[(0,N.jsx)(L.default,{style:[B.input,{borderColor:s?"red":t&&!s?"green":"#ccc"}],value:t,onChangeText:function(e){r(e)},placeholder:n,secureTextEntry:!d&&i}),i&&(0,N.jsx)(f.default,{onPress:function(){p(!d)},style:B.eyeIcon,children:(0,N.jsx)(k.default,{name:d?"eye-off":"eye",size:20,color:"#ccc"})})]})};var A=u.default.create({container:{flex:1,padding:10,justifyContent:"center"},error:{color:"red",fontSize:10,marginBottom:5},link:{color:"blue",textDecorationLine:"none"}});const z=function(e){var t=e.fields,r=e.onSubmit,n=e.submitButton,a=e.disabledButton,o=e.navigation,i=(0,T.useForm)({mode:"onChange"}),s=i.control,l=i.trigger,u=i.handleSubmit,p=i.setValue,g=i.formState.errors,h=function(){var e=(0,b.default)((function*(e,t){p(e,t),yield l(e)}));return function(t,r){return e.apply(this,arguments)}}(),m=function(){var e=(0,b.default)((function*(e,t){p(e,t),yield l(e)}));return function(t,r){return e.apply(this,arguments)}}();return(0,N.jsxs)(c.default,{style:A.container,accessibilityLabel:"form",accessible:!0,children:[t.map((function(e){return(0,N.jsxs)(c.default,{children:["text"===e.type&&(0,N.jsx)(T.Controller,{control:s,render:function(t){var r=t.field.value;return(0,N.jsx)(R,{value:r,onChangeText:function(t){return h(e.name,t)},placeholder:e.placeholder,secure:e.secureTextEntry,error:g[e.name]})},name:e.name,rules:e.rules,defaultValue:""}),"picker"===e.type&&(0,N.jsx)(T.Controller,{control:s,render:function(t){var r=t.field.value;return(0,N.jsx)(I.default,{selectedValue:r,onValueChange:function(t){return m(e.name,t)},children:e.options.map((function(e){return(0,N.jsx)(I.default.Item,{label:e.name,value:e.value},e.value)}))})},name:e.name,rules:e.rules,defaultValue:""}),"link"===e.type&&(0,N.jsx)(f.default,{onPress:function(){return function(e){e&&e(o)}(e.onPress)},children:(0,N.jsx)(d.default,{style:A.link,children:e.text})}),g[e.name]&&(0,N.jsx)(d.default,{style:A.error,children:g[e.name].message})]},e.name)})),(0,N.jsx)(D,{onPress:u(r),title:n,isDisabled:a})]})};const M={email:{required:P.translate("email is required"),pattern:{value:/\S+@\S+\.\S+/,message:P.translate("email is invalid")}},name:{required:P.translate("name is required"),maxLength:{value:50,message:P.translate("name must not exceed 50 characters")}},phoneNumber:{required:P.translate("phone number is required"),pattern:{value:/^\d+$/,message:P.translate("phone number must contain only numbers")},minLength:{value:10,message:P.translate("phone number must be at least 10 digits")},maxLength:{value:15,message:P.translate("phone number must not exceed 15 digits")}},password:{required:P.translate("password is required"),minLength:{value:8,message:P.translate("password must be at least 8 characters")},pattern:{value:/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,}$/,message:P.translate("password must include at least one letter, one number, and one symbolic character")}},repeatPassword:{required:P.translate("password is required"),validate:function(e,t){return e===t.password||P.translate("passwords do not match")}},code:{client:{required:"code is required.",pattern:{value:/^\d+$/,message:"Code must contain only numbers."},minLength:{value:6,message:"Code number must be at least 6 digits."},maxLength:{value:6,message:"Code number must not exceed 6 digits."}},server:{validate:function(e){return"Code is valid"===e||"Invalid code. Please try again."}}}};var W=r(1667),U=new(r(7957).MMKV),F=U.getString("token");const $={createUser:function(){var e=(0,b.default)((function*(e){try{var t=(yield W.default.post("https://abilisense-autisem-translator-server.onrender.com/user/register",e)).data,r=t.token,n=t.userId;return U.set("token",r),n}catch(a){throw a.response&&409===a.response.status?new Error("Username conflict"):(console.error("Registration error:",a),a)}}));return function(t){return e.apply(this,arguments)}}(),getUserDetails:function(){var e=(0,b.default)((function*(){try{console.log("storedToken",F);var e=yield W.default.get("https://abilisense-autisem-translator-server.onrender.com/user/profile",{params:{userName:"piki@example.com"},headers:{Authorization:`Bearer ${F}`}});console.log("response:",e);var t=e.headers["x-new-token"];return t&&t!==F&&(console.log("new token",t),U.set("token",t),F=U.getString("token"),console.log("storedTokennnnnnnn",F)),e.data}catch(r){throw console.log("Get therapist details error:",r),console.log(r.response.status),r.response&&403===r.response.status&&console.log("Token invalid or expired. Redirecting to login screen."),r}}));return function(){return e.apply(this,arguments)}}(),updateUsersPassword:function(e){return W.default.put("https://abilisense-autisem-translator-server.onrender.com/user/updatePassword",e).then((function(e){return e.data}))},loginUser:function(){var e=(0,b.default)((function*(e){try{return(yield W.default.post("https://abilisense-autisem-translator-server.onrender.com/user/login",e)).data}catch(t){throw console.error("Login error:",t),t}}));return function(t){return e.apply(this,arguments)}}(),updateImage:function(){var e=(0,b.default)((function*(e){try{return(yield W.default.put("https://abilisense-autisem-translator-server.onrender.com/user/updateImage",e)).data}catch(t){throw console.error("Login error:",t),t}}));return function(t){return e.apply(this,arguments)}}(),uploadProfileImage:function(){var e=(0,b.default)((function*(e,t){try{return(yield W.default.put(`https://abilisense-autisem-translator-server.onrender.com/user/uploadProfileImage?userId=${e}`,{image:t})).data}catch(r){if(console.log("Upload profile image failed:",r),r.response&&413===r.response.status)throw new Error("Image Too Large");throw r}}));return function(t,r){return e.apply(this,arguments)}}()};var H=function(e){return{type:"SET_USER",payload:{userData:e}}};function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var V=P.translate,G=u.default.create({errorText:{color:"red",marginTop:10}}),Y=[{name:"userName",placeholder:V("email"),type:"text",rules:M.email,accesabilityLabel:"username input",accesabilityHint:"enter your username"},{name:"password",placeholder:V("password"),type:"text",secureTextEntry:!0,rules:M.password,accesabilityLabel:"password input",accesabilityHint:"enter your password"},{name:"forgotPassword",type:"link",onPress:function(e){return e.navigate("ForgotYourPassword")},text:V("forgot your password"),accesabilityLabel:"forgot password link",accesabilityHint:"press to reset your password"}];function Z(){var e=(0,l.useDispatch)(),t=(0,y.useNavigation)(),r=(0,o.useState)(null),n=(0,a.default)(r,2),i=n[0],s=n[1],u=(0,o.useState)(!1),f=(0,a.default)(u,2),p=f[0],g=f[1],h=function(){var r=(0,b.default)((function*(r){console.log("Form data:",r);try{g(!0);var n=yield $.loginUser(r);console.log(n),"User exists"===n.message?(e(H(q(q({},n.user.user),{},{_id:n.user.user._id}))),"therapist"==n.user.user.type?t.navigate("Therapist"):t.navigate("Patient"),s(null)):s("The email or password is incorrect, try again.")}catch(a){console.error("Error:",a)}finally{g(!1)}}));return function(e){return r.apply(this,arguments)}}();return(0,N.jsxs)(c.default,{accessible:!0,accessibilityLabel:"login screen",children:[(0,N.jsx)(z,{accessible:!0,fields:Y,onSubmit:h,navigation:t,submitButton:p?"Verifying...":"login",disabledButton:p,accesabilityLabel:"login button"}),(0,N.jsx)(d.default,{style:G.errorText,accessible:!0,children:i})]})}var J=P.translate;function X(){var e=(0,y.useNavigation)(),t=(0,o.useState)(!1),r=(0,a.default)(t,2),n=r[0],i=r[1],s=(0,o.useRef)(new h.default.Value(0)).current,l=(0,o.useRef)(new h.default.Value(1)).current;(0,o.useEffect)((function(){u()}),[]),(0,o.useEffect)((function(){n?h.default.timing(s,{toValue:1,duration:500,useNativeDriver:!0}).start():h.default.timing(s,{toValue:0,duration:500,useNativeDriver:!0}).start()}),[n]);var u=function(){h.default.loop(h.default.sequence([h.default.timing(l,{toValue:1.09,duration:1e3,easing:m.default.linear,useNativeDriver:!0}),h.default.timing(l,{toValue:1,duration:1e3,easing:m.default.linear,useNativeDriver:!0})]),{iterations:-1}).start()};return(0,N.jsxs)(c.default,{style:Q.container,children:[(0,N.jsx)(c.default,{children:(0,N.jsx)(g.default,{source:S,style:Q.image,resizeMode:"contain"})}),(0,N.jsx)(p.default,{style:Q.startButtonContainer,onPress:function(){return i(!0)},activeOpacity:.7,children:(0,N.jsx)(h.default.View,{style:[Q.startButton,{transform:[{scale:l}]}],children:(0,N.jsx)(d.default,{style:Q.startButtonText,children:"start"})})}),n&&(0,N.jsx)(h.default.View,{style:[Q.loadingContainer,{opacity:s}],accessible:!0,children:(0,N.jsxs)(c.default,{style:O.whitePaper,children:[(0,N.jsx)(Z,{}),(0,N.jsx)(c.default,{style:{alignItems:"center",marginTop:20},children:(0,N.jsxs)(d.default,{style:{color:"black"},children:[J("don't have an account"),(0,N.jsx)(f.default,{onPress:function(){e.navigate("Registration")},children:(0,N.jsx)(d.default,{style:{color:"green",textDecorationLine:"underline"},children:J("register here")})})]})})]})})]})}var Q=u.default.create({container:{flex:1,backgroundColor:"green",alignItems:"center",justifyContent:"center"},startButtonContainer:{position:"absolute",bottom:20},startButton:{backgroundColor:"white",borderRadius:50,padding:10,width:50,height:50,alignItems:"center",justifyContent:"center"},startButtonText:{color:"green",textAlign:"center"},image:{width:250,height:150},loadingContainer:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"white",alignItems:"center",justifyContent:"center"}}),K=r(4584),ee=r(9366),te=u.default.create({container:{position:"absolute",bottom:0,left:0,alignItems:"center",justifyContent:"center"},message:{fontSize:20,fontWeight:"bold",textAlign:"center"}});const re=function(e){var t=e.message,r=e.severity,n=e.onClose,i=(0,o.useState)(!1),s=(0,a.default)(i,2),l=s[0],u=s[1];(0,o.useEffect)((function(){u(!0);var e=setTimeout((function(){u(!1),n&&n()}),3e3);return function(){clearTimeout(e)}}),[n]);var f=K.default.get("window").width/2;return(0,N.jsx)(ee.default,{accessible:!0,accessibilityLabel:"banner notification",isVisible:l,animationIn:"slideInUp",animationOut:"slideOutDown",backdropOpacity:.5,children:(0,N.jsx)(c.default,{style:[te.container,{width:f}],accessible:!0,children:(0,N.jsx)(d.default,{style:[te.message,{color:"white",backgroundColor:"error"===r?"red":"green"}],children:t})})})};function ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var oe=P.translate,ie=[{name:oe("select user type"),value:""},{name:oe("therapist"),value:"therapist"},{name:oe("patient"),value:"patient"}],se=[{name:"userName",placeholder:oe("email"),type:"text",rules:M.email,accesabilityLabel:"username input",accesabilityHint:"enter your username"},{name:"firstName",placeholder:oe("first name"),type:"text",rules:M.name,accesabilityLabel:"first name input",accesabilityHint:"enter your first name"},{name:"lastName",placeholder:oe("last name"),type:"text",rules:M.name,accesabilityLabel:"last name input",accesabilityHint:"enter your last name"},{name:"phoneNumber",placeholder:oe("phone number"),type:"text",rules:M.phoneNumber,accesabilityLabel:"phone number input",accesabilityHint:"enter your phone number"},{name:"password",placeholder:oe("password"),type:"text",secureTextEntry:!0,rules:M.password,accesabilityLabel:"password input",accesabilityHint:"enter your password"},{name:"repeatPassword",placeholder:oe("verify password"),type:"text",secureTextEntry:!0,rules:M.repeatPassword,accesabilityLabel:"password verification input",accesabilityHint:"verify your password"},{name:"type",options:ie,type:"picker",rules:{required:oe("type is required")},accesabilityLabel:"user type input",accesabilityHint:"select your user type"}];function le(){var e=(0,y.useNavigation)(),t=(0,o.useState)(null),r=(0,a.default)(t,2),n=r[0],i=r[1],s=(0,o.useState)(null),u=(0,a.default)(s,2),f=u[0],p=u[1],g=(0,l.useDispatch)(),h=function(){var t=(0,b.default)((function*(t){try{var r=yield $.createUser(t),n=ae(ae({},t),{},{_id:r});g(H(n)),"therapist"==t.type?e.navigate("Therapist"):e.navigate("Patient")}catch(a){"Username conflict"===a.message?p(oe("username exists")):i({message:oe("error creating user"),severity:"error"})}}));return function(e){return t.apply(this,arguments)}}();return(0,N.jsxs)(c.default,{style:O.whitePaper,accessible:!0,accessibilityLabel:"registration screen",children:[(0,N.jsx)(z,{fields:se,onSubmit:h,submitButton:oe("registration")}),n&&(0,N.jsx)(c.default,{accessible:!0,children:(0,N.jsx)(re,{message:n.message,severity:n.severity,onClose:function(){return i(null)}})}),f&&(0,N.jsx)(c.default,{accessible:!0,children:(0,N.jsx)(d.default,{style:ue.errorText,children:f})})]})}var ue=u.default.create({errorText:{color:"red",marginTop:10}});function ce(){return(0,N.jsx)(c.default,{accessible:!0,children:(0,N.jsx)(le,{})})}var de=P.translate;function fe(e){var t=e.navigation;return(0,N.jsxs)(c.default,{style:O.whitePaper,children:[(0,N.jsx)(Z,{}),(0,N.jsx)(c.default,{style:{alignItems:"center",marginTop:20},children:(0,N.jsxs)(d.default,{style:{color:"black"},children:[de("don't have an account"),(0,N.jsx)(f.default,{onPress:function(){t.navigate("Registration")},children:(0,N.jsx)(d.default,{style:{color:"green",textDecorationLine:"underline"},children:de("register here")})})]})})]})}const pe={createSendTheEmail:function(e){return W.default.post("https://abilisense-autisem-translator-server.onrender.com/sendEmail/",e).then((function(e){return e.data}))},createCodeFromEmail:function(e){return W.default.post("https://abilisense-autisem-translator-server.onrender.com/sendEmail/verify-code",e).then((function(e){return e.data}))}};var ge=P.translate,he=u.default.create({errorText:{color:"red",marginTop:10}}),me=[{name:"userName",placeholder:ge("enter your email"),type:"text",rules:M.email,accesabilityLabel:"email input",accesabilityHint:"enter your email"}];function ye(){var e=(0,y.useNavigation)(),t=(0,o.useState)(!1),r=(0,a.default)(t,2),n=r[0],i=r[1],s=(0,o.useState)(null),l=(0,a.default)(s,2),u=l[0],f=l[1],p=function(){var t=(0,b.default)((function*(t){try{i(!0),console.log(t.userName);var r=yield pe.createSendTheEmail({userName:t.userName});console.log(r),"User exists"===r.message?(f(null),e.navigate("CodeFromTheEmail",{userName:t.userName}),console.log("Email sent successfully!")):f("User does not exist.")}catch(a){var n;console.error("Error sending email:",(null==(n=a.response)?void 0:n.data)||a.toString())}finally{i(!1)}}));return function(e){return t.apply(this,arguments)}}();return(0,N.jsxs)(c.default,{style:O.whitePaper,accessible:!0,accessibilityLabel:"forgot your password screen",children:[(0,N.jsx)(z,{fields:me,onSubmit:p,submitButton:ge(n?"sending":"reset password"),disabledButton:n}),(0,N.jsx)(d.default,{style:he.errorText,accessible:!0,accessibilityLabel:"Sending email",children:u})]})}function be(){return(0,N.jsx)(c.default,{accessible:!0,children:(0,N.jsx)(ye,{})})}var ve=P.translate,xe=u.default.create({errorText:{color:"red",marginTop:10}}),je=[{name:"Code",state:"code",placeholder:ve("enter your code"),type:"text",rules:M.code.client,accesabilityLabel:"verification code input",accesabilityHint:"enter the code you received in your email"}];function we(e){var t=(0,y.useNavigation)(),r=(0,o.useState)(!1),n=(0,a.default)(r,2),i=n[0],s=n[1],l=(0,o.useState)(null),u=(0,a.default)(l,2),p=u[0],g=u[1],h=(0,o.useState)(!1),m=(0,a.default)(h,2),v=m[0],x=m[1],j=(0,o.useState)(0),w=(0,a.default)(j,2),C=w[0],P=w[1],S=(0,o.useState)(0),I=(0,a.default)(S,2),T=I[0],E=I[1];(0,o.useEffect)((function(){if(C>0){x(!0);var e=C-(new Date).getTime();E(e);var t=setInterval((function(){E((function(e){return e-1e3}))}),1e3),r=setTimeout((function(){x(!1),P(0),clearInterval(t)}),e);return function(){clearTimeout(t),clearTimeout(r)}}}),[C]);var D=function(){var r=(0,b.default)((function*(r){try{console.log(r.Code),s(!0);var n=yield pe.createCodeFromEmail({code:r.Code});console.log(n);var a=M.code.server.validate(n);console.log(a),!0!==a?(g(a),n.disableUntil&&P(n.disableUntil)):(g(null),t.navigate("NewPassword",{userName:e}))}catch(p){console.error("Error verifying code:",p)}finally{s(!1)}}));return function(e){return r.apply(this,arguments)}}();return(0,N.jsxs)(c.default,{style:O.whitePaper,accessible:!0,accesabilityLabel:"verification code screen",children:[console.log("isButtonDisabled:",v),(0,N.jsx)(z,{accessible:!0,fields:je,onSubmit:function(e){D(e)},submitButton:ve(C?"try later":i?"verifying":"next"),disabledButton:i||v}),(0,N.jsx)(f.default,{onPress:function(){t.reset({index:0,routes:[{name:"ForgotYourPassword"}]})},children:(0,N.jsx)(d.default,{style:{color:"blue"},children:"No email sent?"})}),p&&(0,N.jsx)(d.default,{style:xe.errorText,children:p}),C>0&&(0,N.jsxs)(d.default,{style:{marginTop:10},children:["Time remaining: ",Math.floor(T/6e4)," minutes and"," ",Math.ceil(T%6e4/1e3)," seconds"]})]})}var Ce=P.translate,Pe=u.default.create({errorText:{marginTop:10},modalContent:{backgroundColor:"white",padding:20,borderRadius:10,borderWidth:1,borderColor:"#ccc",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.5,shadowRadius:2,elevation:3,marginTop:40}}),Se=[{name:"password",placeholder:Ce("new password"),type:"text",secureTextEntry:!0,rules:M.password,accesabilityLabel:"password input",accesabilityHint:"enter your password"},{name:"repeatPassword",placeholder:Ce("verify password"),type:"text",secureTextEntry:!0,rules:M.repeatPassword,accesabilityLabel:"password verification input",accesabilityHint:"verify your password"}];function Oe(e){var t=e.route,r=(0,y.useNavigation)(),n=(0,o.useState)(null),i=(0,a.default)(n,2),s=i[0],l=i[1],u=function(){var e=(0,b.default)((function*(e){try{var n=t.params.userName;console.log(n);var a=yield $.updateUsersPassword({userName:n.route.params.userName,newPassword:e.repeatPassword});console.log(n.route.params.userName),console.log("Form Data:",e,t),console.log(a),console.log("response.Message",a.message),"Success update"===a.message?r.navigate("Login"):l("Update password failed")}catch(o){console.error("Error updating password:",o)}}));return function(t){return e.apply(this,arguments)}}();return(0,N.jsxs)(c.default,{style:Pe.modalContent,accessible:!0,accesabilityLabel:"new password screen",children:[(0,N.jsx)(z,{accessible:!0,accesabilityLabel:"new password screen",fields:Se,onSubmit:u,submitButton:Ce("save")}),(0,N.jsx)(d.default,{style:Pe.errorText,accessible:!0,accessibilityLabel:"reset password",children:s})]})}var Ie=r(7099);function Te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ee={user:null};const De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;return"SET_USER"===t.type?Ne(Ne({},e),{},{user:t.payload}):e};function Le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ke(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Le(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Be={num:"0"};const Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0;return"SET_UNREAD_NOTIFICATION"===t.type?ke(ke({},e),{},{num:t.payload}):e};var Ae=(0,Ie.combineReducers)({user:De,patient:Re});const ze=(0,Ie.createStore)(Ae);var Me=r(3645);const We={getTherapistPatients:function(){var e=(0,b.default)((function*(e){try{return(yield W.default.get(`https://abilisense-autisem-translator-server.onrender.com/therapist/${e}/patients`)).data}catch(t){throw console.error("Error fetching therapist patients:",t),new Error("Error fetching therapist patients")}}));return function(t){return e.apply(this,arguments)}}(),sendNotificationToPatient:function(){var e=(0,b.default)((function*(e,t){try{return"Patient not found"==(yield W.default.post("https://abilisense-autisem-translator-server.onrender.com/therapist/sendNotification",{therapistId:e,patientUserName:t})).data.message?"no such patient":null}catch(r){throw console.error("Error sending notification:",r),new Error("Error sending notification")}}));return function(t,r){return e.apply(this,arguments)}}(),unAssociatePatient:function(){var e=(0,b.default)((function*(e,t){try{console.log("cliiii",e,t);var r=yield W.default.delete(`https://abilisense-autisem-translator-server.onrender.com/therapist?therapistID=${e}&patientID=${t}`);return console.log("response",r),1==r.data.success||"failed"}catch(n){throw console.error("Error sending notification:",n),new Error("Error sending notification")}}));return function(t,r){return e.apply(this,arguments)}}(),getPatientsDetailes:function(){var e=(0,b.default)((function*(e){try{var t=yield W.default.get(`https://abilisense-autisem-translator-server.onrender.com/therapist/patients-details/${e}`);return console.log("response",t),t.data}catch(r){throw console.error("Error sending notification:",r),new Error("Error sending notification")}}));return function(t){return e.apply(this,arguments)}}()},Ue=r.p+"static/media/therapist room.30af36223985c513bdd3.jpg";var Fe=r(9294),$e=u.default.create({modalContainer:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"#01461cd6"},errorMessage:{color:"red",marginTop:5}});const He=function(e){var t=e.isVisible,r=e.onConfirm,n=e.onCancel,i=e.errorMessage,s=(0,o.useState)(""),l=(0,a.default)(s,2),u=l[0],f=l[1];return(0,N.jsx)(Fe.default,{visible:t,transparent:!0,children:(0,N.jsx)(c.default,{style:$e.modalContainer,children:(0,N.jsxs)(c.default,{style:O.whitePaper,children:[(0,N.jsx)(R,{placeholder:"Enter patient username",value:u,onChangeText:function(e){return f(e)}}),i&&(0,N.jsx)(d.default,{style:$e.errorMessage,children:i}),(0,N.jsx)(D,{onPress:function(){""!==u.trim()?(r(u),f("")):console.log("Invalid Username","Please enter a valid username.")},title:"Confirm",buttonWidth:160}),(0,N.jsx)(D,{onPress:function(){f(""),n()},title:"Cancel",buttonWidth:160})]})})})};var _e=r(4504),qe=u.default.create({header:{fontSize:24,fontWeight:"bold",marginBottom:16},patientContainer:{backgroundColor:"white",borderRadius:8,padding:16,marginBottom:12,elevation:3,shadowColor:"green",shadowOffset:{width:0,height:2},shadowOpacity:.2},patientName:{fontSize:18,fontWeight:"bold"},addButton:{backgroundColor:"#4CAF50",padding:12,borderRadius:8,alignItems:"center",marginTop:16},input:{borderWidth:1,borderColor:"#ccc",borderRadius:4,padding:8,marginBottom:16},modalButtonsContainer:{flexDirection:"row",justifyContent:"space-around"},modalButton:{backgroundColor:"#4CAF50",padding:12,borderRadius:8,alignItems:"center",flex:1,marginHorizontal:8},modalButtonText:{color:"white",fontWeight:"bold"},noPatientsContainer:{alignItems:"center",justifyContent:"center",flex:1},noPatientsText:{fontSize:18,marginBottom:16},noPatientsImage:{width:200,height:100},icon:{color:"green",fontSize:24},toggleButtonContainer:{alignItems:"center",marginBottom:16},toggleButton:{backgroundColor:"#4CAF50",padding:12,borderRadius:8,alignItems:"center"}});const Ve=function(){var e=(0,o.useState)([]),t=(0,a.default)(e,2),r=t[0],n=t[1],i=(0,o.useState)([]),s=(0,a.default)(i,2),u=s[0],p=s[1],h=(0,o.useState)(!1),m=(0,a.default)(h,2),v=m[0],x=m[1],j=(0,o.useState)(!0),w=(0,a.default)(j,2),C=w[0],P=w[1],S=(0,o.useState)(null),I=(0,a.default)(S,2),T=I[0],E=I[1],L=(0,o.useState)(null),k=(0,a.default)(L,2),B=k[0],R=k[1],A=(0,l.useSelector)((function(e){return e.user.user.userData._id})),z=(0,y.useNavigation)(),M=(0,o.useState)(!1),W=(0,a.default)(M,2),U=W[0],F=W[1];(0,o.useEffect)((function(){$()}),[A]);var $=function(){var e=(0,b.default)((function*(){try{var e=yield We.getTherapistPatients(A);if(!e||e.length<=0)n([]),p([]);else{n(e);var t=e.filter((function(e){return"Confirmed"===e.status}));p(t)}}catch(r){console.error("Error fetching data:",r)}finally{P(!1)}}));return function(){return e.apply(this,arguments)}}(),H=function(){var e=(0,b.default)((function*(e){try{var t=r.some((function(t){return`${t.patientDetails.userName}`===e}));if(t)return void R("This patient already exists on your list.");var n=yield We.sendNotificationToPatient(A,e);E("no such patient"===n?"Failed to send notification. There is no such Patient.":`Notification sent to ${e}`)}catch(a){E("Failed to send notification. Please try again.")}x(!1)}));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=(0,b.default)((function*(e){try{var t=yield We.unAssociatePatient(A,e.patientDetails._id);t&&(console.log("deletion",t),E(`Patient ${e.patientDetails.firstName} ${e.patientDetails.lastName} deleted successfully.`))}catch(r){console.error("Error deleting patient:",r),E("Failed to delete patient. Please try again.")}}));return function(t){return e.apply(this,arguments)}}(),q=function(e){switch(e){case"Confirmed":return"white";case"Pending":return"rgba(255, 255, 0, 0.2)";default:return"rgba(255, 0, 0, 0.2)"}};return(0,N.jsx)(c.default,{style:O.whitePaper,children:C?(0,N.jsx)(d.default,{children:"Loading..."}):(0,N.jsxs)(N.Fragment,{children:[r.length>0&&(0,N.jsx)(d.default,{style:qe.header,children:"My Patients"}),0===r.length?(0,N.jsxs)(c.default,{style:qe.noPatientsContainer,children:[(0,N.jsx)(d.default,{style:qe.noPatientsText,children:"No patients yet"}),(0,N.jsx)(g.default,{source:Ue,style:qe.noPatientsImage})]}):(0,N.jsx)(Me.default,{data:u,keyExtractor:function(e){return e.patientDetails._id},renderItem:function(e){var t=e.item;return(0,N.jsx)(c.default,{style:[qe.patientContainer,{backgroundColor:q(t.status)}],children:(0,N.jsxs)(c.default,{style:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:["Confirmed"===t.status?(0,N.jsx)(f.default,{onPress:function(){return z.navigate("PatientDetails",{patientId:t.patientDetails._id})},children:(0,N.jsx)(d.default,{style:qe.patientName,children:`${t.patientDetails.firstName} ${t.patientDetails.lastName}`})}):(0,N.jsx)(d.default,{style:qe.patientName,children:`${t.patientDetails.firstName} ${t.patientDetails.lastName}`}),(0,N.jsx)(f.default,{onPress:function(){return _(t)},children:(0,N.jsx)(_e.default,{name:"trash",style:qe.icon})})]})})}}),(0,N.jsx)(D,{style:qe.addButton,onPress:function(){x(!0)},title:"Add Patient",buttonWidth:160}),(0,N.jsx)(c.default,{style:qe.toggleButtonContainer,children:(0,N.jsx)(D,{style:qe.toggleButton,onPress:function(){F(!U);var e=U?r.filter((function(e){return"Confirmed"===e.status})):r.filter((function(e){return"Pending"===e.status}));p(e)},title:U?"Show Confirmed Patients":"Show Pending Patients",buttonWidth:250})}),(0,N.jsx)(He,{isVisible:v,onConfirm:H,onCancel:function(){x(!1)},errorMessage:B}),T&&(0,N.jsx)(re,{message:T,severity:T.includes("Failed")?"error":"success",onClose:function(){E(null),$()}})]})})};var Ge=r(229),Ye=r(2820),Ze=r(6639),Je=r(8042);function Xe(e){var t=(0,o.useState)(null),r=(0,a.default)(t,2),n=r[0],i=r[1],s=(0,o.useState)(!1),l=(0,a.default)(s,2),u=l[0],p=l[1],g=P.translate,h=function(){var e=(0,b.default)((function*(){try{var e=new Ye.Recording;yield e.prepareToRecordAsync(Ze.RECORDING_OPTIONS_PRESET_HIGH_QUALITY),yield e.startAsync(),i(e),p(!0)}catch(t){console.error("Failed to start recording",t)}}));return function(){return e.apply(this,arguments)}}(),m=function(){var t=(0,b.default)((function*(){if(n){console.log("recording",n);try{yield n.stopAndUnloadAsync(),p(!1),e.setRecordedData(n.getURI())}catch(t){console.error("Failed to stop recording",t)}}}));return function(){return t.apply(this,arguments)}}(),y=(function(){var e=(0,b.default)((function*(){var e=new Je.Sound,t=n.getURI();yield e.loadAsync({uri:t}),yield e.playAsync()}))}(),u?"green":"red");return(0,N.jsx)(c.default,{style:Qe.container,accessible:!0,accessibilityLabel:"recording",children:(0,N.jsx)(f.default,{style:[Qe.recordButton,{backgroundColor:y}],onPress:function(){u?m():h()},children:(0,N.jsx)(d.default,{style:Qe.buttonText,accessible:!0,children:g(u?"stop recording":"start recording")})})})}var Qe=u.default.create({container:{flex:1,justifyContent:"center",alignItems:"center"},recordButton:{width:100,height:100,borderRadius:50,justifyContent:"center",alignItems:"center"},buttonText:{color:"white"}});const Ke={getPatientsTherapist:function(){var e=(0,b.default)((function*(e){try{var t=yield W.default.get(`https://abilisense-autisem-translator-server.onrender.com/patient/list/${e}`);return console.log("receiverId 1:",e),console.log("response",t),t.data}catch(r){throw console.error("Error fetching therapist patients:",r),new Error("Error fetching therapist patients")}}));return function(t){return e.apply(this,arguments)}}(),getlistOfAssociatedTherapist:function(){var e=(0,b.default)((function*(e){try{var t=yield W.default.get(`https://abilisense-autisem-translator-server.onrender.com/patient/ListOfAssociatedTherapists/${e}`);return console.log("receiverId 2:",e),console.log("response 2",t),t.data}catch(r){throw console.error("Error fetching therapist patients:",r),new Error("Error fetching therapist patients")}}));return function(t){return e.apply(this,arguments)}}(),unreadNotifications:function(){var e=(0,b.default)((function*(e){try{var t=yield W.default.get(`https://abilisense-autisem-translator-server.onrender.com/patient/${e}`);return console.log("receiverId 444:",e),console.log("response 444",t),t.data}catch(r){throw console.error("Error fetching therapist patients:",r),new Error("Error fetching therapist patients")}}));return function(t){return e.apply(this,arguments)}}(),statusChange:function(){var e=(0,b.default)((function*(e){console.log("receiverId notificationId:",e);try{var t=yield W.default.put("https://abilisense-autisem-translator-server.onrender.com/patient/change",e);return console.log("notificationId:",e),console.log("response notificationId",t),t.data}catch(r){throw console.error("Error fetching therapist patients:",r),new Error("Error fetching therapist patients")}}));return function(t){return e.apply(this,arguments)}}(),statusChangeToConfirmed:function(){var e=(0,b.default)((function*(e){console.log(" associationsId:",e);try{var t=yield W.default.put("https://abilisense-autisem-translator-server.onrender.com/patient/changeAssociations",e);return console.log("associationsId:",e),console.log("response associationsId",t),t.data}catch(r){throw console.error("Error fetching therapist patients:",r),new Error("Error fetching therapist patients")}}));return function(t){return e.apply(this,arguments)}}(),deletingTherapist:function(){var e=(0,b.default)((function*(e){console.log("delete:",e);try{var t=yield W.default.delete("https://abilisense-autisem-translator-server.onrender.com/patient/deleteFromNotification",{data:e}),r=yield W.default.delete("https://abilisense-autisem-translator-server.onrender.com/patient/deleteFromAssociations",{data:e});return console.log("delete:",e),console.log("response 1",t),console.log("response 2",r),t.data}catch(n){throw console.error("Error fetching therapist patients:",n),new Error("Error fetching therapist patients")}}));return function(t){return e.apply(this,arguments)}}()};var et=function(e){return{type:"SET_UNREAD_NOTIFICATION",payload:{numOfUnread:e}}},tt=u.default.create({container:{flex:1,width:"100%",height:"100%"},backgroundImage:{position:"absolute",width:"100%",height:"100%",zIndex:-1,justifyContent:"center",alignItems:"center"},content:{flex:1,justifyContent:"center",alignItems:"center"},label:{fontSize:20,marginBottom:15},loadingContainer:{flex:1,justifyContent:"center",alignItems:"center"},recordAudio:{marginTop:150},hello:{marginLeft:25,marginTop:10}});const rt=function(){var e=(0,l.useDispatch)(),t=((0,y.useNavigation)(),(0,o.useState)(" ")),r=(0,a.default)(t,2),n=(r[0],r[1]),i=(0,o.useState)(!0),s=(0,a.default)(i,2),u=s[0],f=s[1],p=(0,l.useSelector)((function(e){return e.user.user.userData._id}));(0,o.useEffect)((function(){var t=function(){var t=(0,b.default)((function*(){try{console.log("receiverId 0 ",p);var t=yield Ke.unreadNotifications(p);t?(e(et(t)),n(t),console.log("response. ",t)):console.log("Invalid response data - CountNotifications:",0)}catch(r){console.error("Error fetching data:",r)}finally{f(!1)}}));return function(){return t.apply(this,arguments)}}();t()}),[p,n]);var h=(0,l.useSelector)((function(e){return e.user.user.userData}));return u?(0,N.jsx)(c.default,{style:tt.loadingContainer,children:(0,N.jsx)(Ge.default,{size:"large",color:"green"})}):(0,N.jsxs)(c.default,{style:tt.container,children:[h.image&&(0,N.jsx)(g.default,{source:{uri:h.image},style:tt.backgroundImage,resizeMode:"cover"}),(0,N.jsxs)(c.default,{children:[(0,N.jsx)(c.default,{style:tt.hello,children:(0,N.jsxs)(d.default,{style:tt.label,children:["hello ",h.firstName]})}),(0,N.jsx)(c.default,{style:tt.recordAudio,children:(0,N.jsx)(Xe,{})})]})]})};var nt=[{name:"password",placeholder:(0,P.translate)("password"),type:"text",secureTextEntry:!0,rules:M.password,accesabilityLabel:"password input",accesabilityHint:"enter your password"}];function at(){var e=(0,y.useNavigation)(),t=(0,o.useState)(null),r=(0,a.default)(t,2),n=r[0],i=r[1],s=(0,o.useState)(!1),u=(0,a.default)(s,2),f=u[0],p=u[1],g=(0,l.useSelector)((function(e){return e.user.user.userData.userName}));console.log("userName ",g);var h=function(){var t=(0,b.default)((function*(t){try{p(!0);var r=yield $.loginUser({userName:g,password:t.password});console.log("response ",r),"User exists"===r.message?(e.navigate("ManagementByTheParent"),i(null)):i("The password is incorrect, try again.")}catch(n){console.error("Error:",n)}finally{p(!1)}}));return function(e){return t.apply(this,arguments)}}();return(0,N.jsx)(c.default,{style:ot.container,children:(0,N.jsxs)(c.default,{style:ot.modalContainer,children:[(0,N.jsx)(d.default,{style:ot.label,children:"Get Therapist "}),(0,N.jsx)(d.default,{style:ot.labels,children:"Get your therapist to Abilisense."}),(0,N.jsx)(d.default,{style:ot.labels,children:"It's very easy to get started."}),(0,N.jsx)(z,{accessible:!0,fields:nt,onSubmit:h,navigation:e,submitButton:f?"Verifying...":"Get",disabledButton:f}),(0,N.jsx)(d.default,{style:ot.errorText,accessible:!0,children:n})]})})}var ot=u.default.create({container:{flex:1,justifyContent:"center",alignItems:"center"},modalContainer:{backgroundColor:"white",padding:20,borderRadius:10,borderWidth:1,borderColor:"#ccc",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.5,shadowRadius:2,elevation:3},label:{fontSize:25,marginBottom:8},labels:{fontSize:15,marginBottom:8}});function it(){var e=(0,y.useNavigation)(),t=(0,l.useSelector)((function(e){return e.user.user.userData._id})),r=(0,o.useState)(null),n=(0,a.default)(r,2),i=n[0],s=n[1],u=((0,y.useRoute)().params||{}).therapist,f=function(){var t=(0,b.default)((function*(){e.reset({index:0,routes:[{name:"GetTherapist"}]})}));return function(){return t.apply(this,arguments)}}(),p=function(){var e=(0,b.default)((function*(){var e=yield Ke.statusChange({id:u.id,receiverID:t});console.log("responseChange",e);var r=yield Ke.statusChangeToConfirmed({id:u.id,receiverID:t});console.log("response",r),s(`Therapist ${u.firstName} ${u.lastName} added successfully.`)}));return function(){return e.apply(this,arguments)}}();return(0,N.jsx)(c.default,{style:st.container,children:(0,N.jsxs)(c.default,{style:st.modalContainer,children:[u&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(d.default,{style:st.label,children:[(0,N.jsx)(d.default,{style:{color:"green"},children:`${u.firstName} ${u.lastName} `}),"wants to access your Abilisense account"]}),(0,N.jsxs)(d.default,{children:["This will allow",(0,N.jsx)(d.default,{style:{color:"green"},children:` ${u.firstName} ${u.lastName} `}),"to perform operations on your Abilisense account"]}),(0,N.jsxs)(d.default,{children:["It is possible that your sensitive information will be shared with the",(0,N.jsx)(d.default,{style:{color:"green"},children:` ${u.firstName} ${u.lastName}`}),"."]}),(0,N.jsx)(d.default,{children:"You can always add or remove access."})]}),(0,N.jsxs)(c.default,{style:st.buttonContainer,children:[(0,N.jsx)(D,{onPress:f,title:"Cancel",buttonWidth:80}),(0,N.jsx)(c.default,{style:st.buttonSpacer}),(0,N.jsx)(D,{onPress:p,title:"Allow",buttonWidth:80})]}),i&&(0,N.jsx)(re,{message:i,severity:i.includes("Failed")?"error":"success",onClose:function(){s(null),e.reset({index:0,routes:[{name:"GetTherapist"}]})}})]})})}var st=u.default.create({container:{flex:1,justifyContent:"center",alignItems:"center"},modalContainer:{backgroundColor:"white",padding:20,borderRadius:10,borderWidth:1,borderColor:"#ccc",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.5,shadowRadius:2,elevation:3},label:{fontSize:20,marginBottom:8},buttonContainer:{flexDirection:"row",justifyContent:"center"},buttonSpacer:{width:20}}),lt=r(9514);P.translate;function ut(){var e=(0,y.useNavigation)(),t=(0,l.useDispatch)(),r=(0,o.useState)(null),n=(0,a.default)(r,2),i=n[0],s=n[1],u=(0,o.useState)(!0),p=(0,a.default)(u,2),g=p[0],h=p[1],m=(0,o.useState)([]),v=(0,a.default)(m,2),x=v[0],j=v[1],w=(0,l.useSelector)((function(e){return e.patient.num}));console.log("countNotifications:",w);var C=(0,l.useSelector)((function(e){return e.user.user.userData._id}));(0,o.useEffect)((function(){console.log("1111111111111111");var e=function(){var e=(0,b.default)((function*(){try{console.log("receiverId 0 ",C);var e=yield Ke.getPatientsTherapist(C);e&&e.therapists?(j(e.therapists),console.log("response.therapists ",e.therapists)):console.error("Invalid response data:",e)}catch(t){console.error("Error fetching data:",t)}finally{h(!1)}}));return function(){return e.apply(this,arguments)}}();e()}),[]);var P=function(){var r=(0,b.default)((function*(){if(i){var r={userName:i.userName,firstName:i.firstName,lastName:i.lastName,id:i.id,phoneNumber:i.phoneNumber};w.numOfUnread>0&&t(et(w.numOfUnread-1)),e.navigate("AccessOption",{therapist:r})}}));return function(){return r.apply(this,arguments)}}();return g?(0,N.jsx)(c.default,{style:ct.loadingContainer,children:(0,N.jsx)(Ge.default,{size:"large",color:"green"})}):(0,N.jsx)(c.default,{style:ct.container,children:(0,N.jsxs)(c.default,{style:ct.modalContainer,children:[x.length>0&&(0,N.jsx)(d.default,{style:ct.label,children:"Look for therapists you know"}),0===x.length?(0,N.jsx)(c.default,{style:ct.noPatientsContainer,children:(0,N.jsxs)(d.default,{style:ct.noPatientsText,children:["There are now no therapists ","\n","who want an affiliation from you"]})}):(0,N.jsxs)(c.default,{children:[x.map((function(e){return(0,N.jsx)(f.default,{onPress:function(){s(e)},style:[ct.button,i===e&&{backgroundColor:"green"}],children:(0,N.jsxs)(c.default,{style:ct.IconContainer,children:[(0,N.jsx)(lt.default,{name:"user-md",size:30,color:i===e?"white":"green"}),(0,N.jsxs)(c.default,{style:ct.textContainer,children:[(0,N.jsxs)(d.default,{style:{color:i===e?"white":"green"},children:[e.firstName," ",e.lastName]}),(0,N.jsx)(d.default,{style:{color:i===e?"white":"green"},children:e.phoneNumber}),(0,N.jsx)(d.default,{style:{color:i===e?"white":"green"},children:e.userName})]})]})},e.userName)})),(0,N.jsx)(D,{onPress:P,title:"Done"})]})]})})}var ct=u.default.create({container:{flex:1,justifyContent:"center",alignItems:"center"},modalContainer:{backgroundColor:"white",padding:20,borderRadius:10,borderWidth:1,borderColor:"#ccc",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.5,shadowRadius:2,elevation:3},label:{fontSize:20,marginBottom:8},button:{backgroundColor:"white",borderWidth:1,borderColor:"#ccc",borderRadius:8,paddingVertical:10,alignItems:"center",marginTop:16,marginBottom:12},loadingContainer:{flex:1,justifyContent:"center",alignItems:"center"},IconContainer:{flex:1,flexDirection:"row",alignItems:"center"},textContainer:{flexDirection:"column",marginLeft:8},noPatientsText:{fontSize:18,marginBottom:16},noPatientsContainer:{alignItems:"center",justifyContent:"center",flex:1}}),dt=r(3224),ft=r(1124);function pt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ht=[{id:1,image:r.p+"static/media/115.9d49e0d0e00f4a614435.jpg"},{id:2,image:r.p+"static/media/113.2dc86fc5060ecb55e10b.jpg"},{id:3,image:r.p+"static/media/119.4536eefa7cce2abf2a62.jpg"},{id:4,image:r.p+"static/media/117.87ba5537624f365e12e8.jpg"},{id:5,image:r.p+"static/media/114.5519e1e10eac470d5c6b.jpg"},{id:6,image:r.p+"static/media/110.ee905e643541dcb2233d.jpg"}],mt=u.default.create({container:{alignItems:"center",justifyContent:"center",flex:1,backgroundColor:"#fff"},ConfirmButton:{marginBottom:65},backgroundImage:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:-1},scrollContainer:{flexDirection:"row",flexWrap:"wrap",justifyContent:"center",marginVertical:12},imageContainer:{margin:5,borderWidth:2,borderColor:"transparent",borderRadius:5,overflow:"hidden"},selectedImage:{borderColor:"green"},image:{width:100,height:120}});const yt=function(){var e=(0,o.useState)(null),t=(0,a.default)(e,2),r=t[0],n=t[1],i=(0,l.useDispatch)(),s=(0,y.useNavigation)(),u=(0,l.useSelector)((function(e){return e.user.user.userData})),d=(0,l.useSelector)((function(e){return e.user.user.userData.userName})),p=function(){var e=(0,b.default)((function*(){if(null!==r){var e=ht.find((function(e){return e.id===r}));console.log(`Image ${r} selected`);yield $.updateImage({userName:d,image:e.image});var t=gt(gt({},u),{},{image:e.image});i(H(t)),s.reset({index:0,routes:[{name:"Patient"}]})}else ft.default.announceForAccessibility("Please select an image")}));return function(){return e.apply(this,arguments)}}(),h=function(e){return(0,N.jsx)(f.default,{accessible:!0,accessibilityLabel:"background image",onPress:function(){return t=e.id,void n(t);var t},style:[mt.imageContainer,r===e.id&&mt.selectedImage],children:(0,N.jsx)(g.default,{source:e.image,style:mt.image})},e.id)};return(0,N.jsxs)(c.default,{style:mt.container,accessible:!0,accessibilityLabel:"background image selection",children:[r&&(0,N.jsx)(g.default,{source:ht.find((function(e){return e.id===r})).image,style:mt.backgroundImage}),(0,N.jsx)(dt.default,{contentContainerStyle:mt.scrollContainer,children:ht.map((function(e){return h(e)}))}),(0,N.jsx)(c.default,{style:mt.ConfirmButton,children:(0,N.jsx)(D,{buttonWidth:100,title:"Confirm",onPress:p})})]})};var bt=r(7129),vt=r(1935),xt=r(6652),jt=r(2113),wt=r(5166);const Ct={encode:function(){var e=(0,b.default)((function*(e){try{var t=yield fetch(e),r=yield t.blob();return new Promise((function(e,t){var n=new FileReader;n.onloadend=function(){e(n.result)},n.onerror=t,n.readAsDataURL(r)}))}catch(n){throw console.log("Error encoding image",n),n}}));return function(t){return e.apply(this,arguments)}}(),decode:function(e){try{return e}catch(t){throw console.log("Error decoding image",t),t}}};function Pt(){var e=(0,o.useState)("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+DQo8IS0tIFdyaXR0ZW4gYnkgVHJlZXIgKGdpdGxhYi5jb20vVHJlZXIpIC0tPg0KPHN2ZyANCgl2ZXJzaW9uPSIxLjEiIA0KCXhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgDQoJeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIA0KCXdpZHRoPSI2MDAiIA0KCWhlaWdodD0iNjAwIg0KCXN0cm9rZT0iYmxhY2siDQoJc3Ryb2tlLXdpZHRoPSIzMCINCglmaWxsPSJub25lIj4NCg0KICA8dGl0bGU+QWJzdHJhY3QgdXNlciBpY29uPC90aXRsZT4NCgkNCiAgPGNpcmNsZSBjeD0iMzAwIiBjeT0iMzAwIiByPSIyNjUiIC8+DQogIDxjaXJjbGUgY3g9IjMwMCIgY3k9IjIzMCIgcj0iMTE1IiAvPgkNCiAgPHBhdGggZD0iTTEwNi44MTg2MzQ0MzkwMyw0ODEuNCBhMjA1LDIwNSAxIDAsMSAzODYuMzYyNzMxMTIxOTQsMCIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiIC8+DQo8L3N2Zz4="),t=(0,a.default)(e,2),r=t[0],n=t[1],i=(0,o.useState)(null),s=(0,a.default)(i,2),u=s[0],p=s[1],h=(0,l.useSelector)((function(e){return e.user.user.userData}));(0,o.useEffect)((function(){h.profileImage&&n(h.profileImage),y()}),[]);var m=function(){var e=(0,b.default)((function*(){var e=yield jt.launchImageLibraryAsync({mediaTypes:wt.MediaTypeOptions.Images,allowsEditing:!0,aspect:[4,3],quality:1});if(!e.canceled){p(null);try{var t=yield Ct.encode(e.assets[0].uri);if(t.length>102400)n(null),p("That\u2019s a very nice photo, \nbut it\u2019s a bit too big.\n Try one that\u2019s smaller.");else{n(e.assets[0].uri);var r=yield $.uploadProfileImage(h._id,t);console.log(r)}}catch(a){console.log(a)}}}));return function(){return e.apply(this,arguments)}}(),y=function(){var e=(0,b.default)((function*(){"granted"!==(yield jt.getMediaLibraryPermissionsAsync()).status&&alert("Please grant camera roll permissions inside your system's settings")}));return function(){return e.apply(this,arguments)}}();return(0,N.jsx)(c.default,{children:(0,N.jsxs)(c.default,{style:St.container,children:[r&&(0,N.jsx)(g.default,{source:{uri:r},style:St.image}),u&&(0,N.jsx)(d.default,{style:St.errorMessage,children:u}),(0,N.jsx)(c.default,{style:St.uploadBtnContainer,children:(0,N.jsx)(f.default,{onPress:m,style:St.uploadBtn,children:(0,N.jsx)(xt.default,{name:"camera",size:20,color:"black"})})})]})})}var St=u.default.create({container:{elevation:2,height:150,width:150,backgroundColor:"#efefef",position:"relative",borderRadius:999,overflow:"hidden",justifyContent:"center"},image:{width:"100%",height:"100%",resizeMode:"cover"},uploadBtnContainer:{position:"absolute",right:0,bottom:0,width:"100%",height:"30%"},uploadBtn:{width:"100%",height:"100%",backgroundColor:"transparent",alignItems:"center",justifyContent:"center"},errorMessage:{color:"red",textAlign:"center",fontSize:12}}),Ot=u.default.create({drawerContent:{flex:1,paddingTop:50,paddingLeft:20},drawerItem:{marginBottom:20,flexDirection:"row"},icon:{marginRight:8},userContainer:{alignItems:"center",marginBottom:10},userIcon:{marginRight:8},userName:{fontSize:16,marginRight:10},separator:{height:1,backgroundColor:"black",marginBottom:10},notificationBadgeContainer:{position:"absolute",zIndex:1,backgroundColor:"green",borderRadius:10,width:11,height:11,justifyContent:"center",alignItems:"center",border:"1px solid white"},notificationText:{color:"white",fontSize:8},language:{marginBottom:15,flexDirection:"row",marginLeft:30}});const It=function(e){var t=e.navigation,r=e.shouldDisplaySideNavigator,n=e.onLanguageChange,i=(0,o.useState)(""),s=(0,a.default)(i,2),u=s[0],p=s[1],g=(0,o.useState)(!1),h=(0,a.default)(g,2),m=h[0],b=h[1],v=(0,o.useState)(!1),x=(0,a.default)(v,2),j=x[0],w=x[1],C=(0,o.useState)("English"),S=(0,a.default)(C,2),O=(S[0],S[1]),I=(0,o.useState)(!0),T=(0,a.default)(I,2),E=(T[0],T[1]),D=(0,l.useSelector)((function(e){return e.user.user})),L="";if(D){var k=D.userData.type;"therapist"===k?L="Therapist":"patient"===k&&(L="Patient")}var B=[L,"Manage","Settings","Theme","Language"],R=["home","notifications","settings","color-palette","language"],A=(0,l.useSelector)((function(e){return e.patient.num}));(0,y.useFocusEffect)((function(){var e=t.getState().routes[t.getState().index].name;p(e)}));return r?(console.log("countNotifications",A),(0,N.jsxs)(c.default,{style:Ot.drawerContent,children:[(0,N.jsx)(bt.default,{onPress:function(){b(!1),w(!1)},children:(0,N.jsx)(c.default,{style:[Ot.overlay,{display:j?"flex":"none"}]})}),(0,N.jsxs)(c.default,{style:Ot.userContainer,children:[(0,N.jsx)(Pt,{}),D&&(0,N.jsx)(d.default,{style:Ot.userName,children:D.userData.firstName})]}),(0,N.jsx)(c.default,{style:Ot.separator}),B.map((function(e,r){return(0,N.jsxs)(f.default,{style:Ot.drawerItem,onPress:function(){var r;p(e),console.log("item",e),r=e,t.reset({index:0,routes:[{name:r}]}),"Language"===e&&(p("Language"),b(!m),w(!m))},children:["notifications"===R[r]&&A&&A.numOfUnread>0&&(0,N.jsx)(c.default,{style:Ot.notificationBadgeContainer,children:(0,N.jsx)(d.default,{style:Ot.notificationText,children:A.numOfUnread})}),(0,N.jsx)(vt.default,{name:R[r],size:20,color:u===e?"green":"black",style:Ot.icon}),(0,N.jsx)(d.default,{style:u===e?{color:"green"}:{color:"black"},children:e})]},r)})),m&&(0,N.jsx)(c.default,{children:["English","Hebrew"].map((function(e,t){return(0,N.jsx)(f.default,{style:Ot.language,onPress:function(){return O(t=e),n(t),"Hebrew"===t?(console.log("\u05e0\u05d1\u05d7\u05e8 \u05e2\u05d1\u05e8\u05d9\u05ea"),P.storeLanguage("he")):"English"===t&&(console.log("Selected English"),P.storeLanguage("en")),P.initializeLanguage(),E(!1),void console.log("Language selected:",t);var t},children:(0,N.jsx)(d.default,{style:u===e?{color:"green"}:{color:"black"},children:e})},t)}))})]})):null};function Tt(){var e=(0,o.useState)(!0),t=(0,a.default)(e,2),r=t[0],n=t[1],i=(0,o.useState)(null),s=(0,a.default)(i,2),u=s[0],p=s[1],g=(0,o.useState)([]),h=(0,a.default)(g,2),m=h[0],y=h[1],v=(0,o.useState)(null),x=(0,a.default)(v,2),j=x[0],w=x[1],C=(0,l.useSelector)((function(e){return e.user.user.userData._id}));(0,o.useEffect)((function(){P()}),[C]);var P=function(){var e=(0,b.default)((function*(){try{console.log("receiverId 2 ",C);var e=yield Ke.getlistOfAssociatedTherapist(C);e&&e.therapists?(y(e.therapists),console.log("response.therapists ",e.therapists)):console.error("Invalid response data:",e)}catch(t){console.error("Error fetching data:",t)}finally{n(!1)}}));return function(){return e.apply(this,arguments)}}();if(r)return(0,N.jsx)(c.default,{style:Nt.loadingContainer,children:(0,N.jsx)(Ge.default,{size:"large",color:"green"})});var S=function(){var e=(0,b.default)((function*(){if(u){var e=u.userName,t=u.firstName,r=u.lastName,n=u.id,a=(u.phoneNumber,yield Ke.deletingTherapist({id:n,receiverID:C}));console.log("responseDelete",a),w(`Therapist ${t} ${r} deleted successfully.`)}}));return function(){return e.apply(this,arguments)}}();return(0,N.jsx)(c.default,{style:Nt.container,children:(0,N.jsxs)(c.default,{style:Nt.modalContainer,children:[m.length>0&&(0,N.jsx)(d.default,{style:Nt.label,children:"My Therapists"}),0===m.length?(0,N.jsx)(c.default,{style:Nt.noPatientsContainer,children:(0,N.jsxs)(d.default,{style:Nt.noPatientsText,children:["You do not yet have therapist ","\n","associated with you"]})}):(0,N.jsx)(c.default,{children:m.map((function(e){return(0,N.jsx)(f.default,{onPress:function(){p(e)},style:[Nt.button,u===e&&{backgroundColor:"green"}],children:(0,N.jsxs)(c.default,{style:Nt.IconContainer,children:[(0,N.jsx)(c.default,{style:Nt.Icon,children:(0,N.jsx)(lt.default,{name:"user-md",size:30,color:u===e?"white":"green"})}),(0,N.jsxs)(c.default,{style:Nt.textContainer,children:[(0,N.jsxs)(d.default,{style:{color:u===e?"white":"green"},children:[e.firstName," ",e.lastName]}),(0,N.jsx)(d.default,{style:{color:u===e?"white":"green"},children:e.phoneNumber}),(0,N.jsx)(d.default,{style:{color:u===e?"white":"green"},children:e.userName})]}),(0,N.jsx)(c.default,{style:Nt.Icon,children:(0,N.jsx)(f.default,{onPress:S,children:(0,N.jsx)(lt.default,{name:"trash",size:27,color:u===e?"white":"green"})})})]})},e.userName)}))}),j&&(0,N.jsx)(re,{message:j,severity:j.includes("Failed")?"error":"success",onClose:function(){w(null),P()}})]})})}var Nt=u.default.create({container:{flex:1,justifyContent:"center",alignItems:"center"},modalContainer:{backgroundColor:"white",padding:20,borderRadius:10,borderWidth:1,borderColor:"#ccc",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.5,shadowRadius:2,elevation:3},label:{fontSize:20,marginBottom:15,textAlign:"center"},button:{backgroundColor:"white",borderWidth:1,borderColor:"#ccc",borderRadius:8,paddingVertical:10,alignItems:"center",marginTop:16,marginBottom:12},loadingContainer:{flex:1,justifyContent:"center"},IconContainer:{marginRight:8,flex:1,flexDirection:"row",alignItems:"center"},textContainer:{flexDirection:"column",marginLeft:8},noPatientsText:{fontSize:18,marginBottom:16},noPatientsContainer:{alignItems:"center",justifyContent:"center",flex:1},Icon:{marginLeft:8,flex:1,flexDirection:"row",alignItems:"center"}}),Et=u.default.create({container:{flexGrow:1,justifyContent:"center",alignItems:"center",marginBottom:170},title:{fontSize:18,fontWeight:"bold",marginBottom:10},subtitle:{fontSize:16,fontWeight:"bold",marginTop:10,marginBottom:10},wordContainer:{flexDirection:"row",alignItems:"center",marginBottom:10},translationText:{marginLeft:15},infoText:{fontSize:16,fontStyle:"italic",color:"#666"}});const Dt=function(e){var t=e.route.params.patientId,r=(0,o.useState)(null),n=(0,a.default)(r,2),i=n[0],s=n[1],l=(0,o.useState)(!0),u=(0,a.default)(l,2),p=u[0],g=u[1];(0,o.useEffect)((function(){h()}),[t]);var h=function(){var e=(0,b.default)((function*(){try{var e=yield We.getPatientsDetailes(t);s(e)}catch(r){console.error("Error fetching data:",r)}finally{g(!1)}}));return function(){return e.apply(this,arguments)}}(),m=function(){var e=(0,b.default)((function*(){try{console.log("adding new word")}catch(e){console.error("Error fetching data:",e)}}));return function(){return e.apply(this,arguments)}}();return(0,N.jsx)(dt.default,{contentContainerStyle:Et.container,children:p?(0,N.jsx)(Ge.default,{size:"large",color:"green"}):i?(0,N.jsxs)(c.default,{children:[(0,N.jsx)(d.default,{style:Et.title,children:`Patient: ${i.patient.firstName} ${i.patient.lastName}`}),i.words.words?(0,N.jsxs)(c.default,{children:[(0,N.jsx)(d.default,{style:Et.subtitle,children:"Words:"}),(0,N.jsx)(c.default,{children:i.words&&i.words.words.map((function(e,t){return(0,N.jsxs)(c.default,{style:Et.wordContainer,children:[(0,N.jsx)(f.default,{onPress:function(){return t=e.recording,void console.log("Clicked on recording icon. Recording:",t);var t},children:(0,N.jsx)(lt.default,{name:"microphone",size:20,color:"green"})}),(0,N.jsx)(d.default,{style:Et.translationText,children:`Translation: ${e.translation}`})]},t)}))})]}):(0,N.jsx)(d.default,{style:Et.infoText,children:"No words available for this patient"}),(0,N.jsx)(D,{onPress:m,title:"Add new word",buttonWidth:120})]}):(0,N.jsx)(d.default,{style:Et.infoText,children:"No patient details available"})})};var Lt=r(3904);function kt(){var e=(0,y.useNavigation)();return(0,N.jsxs)(Lt.View,{style:O.whitePaper,children:[(0,N.jsx)(D,{onPress:function(){e.navigate("GetTherapist")},title:"New Therapist",buttonWidth:150}),(0,N.jsx)(D,{onPress:function(){e.navigate("ListOfAssociatedTherapists")},title:"My Therapist",buttonWidth:150})]})}function Bt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Rt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var At=(0,s.default)();u.default.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center"}});const zt=function(){var e=(0,o.useState)("English"),t=(0,a.default)(e,2),r=t[0];t[1];return(0,N.jsx)(l.Provider,{store:ze,children:(0,N.jsx)(i.default,{children:(0,N.jsxs)(At.Navigator,{drawerContent:function(e){return(0,N.jsx)(It,Rt(Rt({},e),{},{shouldDisplaySideNavigator:"Login"!==e.state.routes[e.state.index].name&&"Registration"!==e.state.routes[e.state.index].name&&"Landing"!==e.state.routes[e.state.index].name&&"ForgotYourPassword"!==e.state.routes[e.state.index].name&&"CodeFromTheEmail"!==e.state.routes[e.state.index].name&&"NewPassword"!==e.state.routes[e.state.index].name}))},drawerPosition:"Hebrew"===r?"right":"left",children:[(0,N.jsx)(At.Screen,{name:"Landing",component:X,options:{headerShown:!1}}),(0,N.jsx)(At.Screen,{name:"Login",component:fe,options:{headerShown:!1}}),(0,N.jsx)(At.Screen,{name:"ForgotYourPassword",component:be,options:{headerShown:!1}}),(0,N.jsx)(At.Screen,{name:"NewPassword",component:Oe,options:{headerShown:!1}}),(0,N.jsx)(At.Screen,{name:"CodeFromTheEmail",component:we,options:{headerShown:!1}}),(0,N.jsx)(At.Screen,{name:"Registration",component:ce,options:{headerShown:!1}}),(0,N.jsx)(At.Screen,{name:"Therapist",component:Ve,options:{title:""}}),(0,N.jsx)(At.Screen,{name:"Patient",component:rt,options:{title:""}}),(0,N.jsx)(At.Screen,{name:"Association",component:He,options:{title:""}}),(0,N.jsx)(At.Screen,{name:"GetTherapist",component:ut,options:{title:""}}),(0,N.jsx)(At.Screen,{name:"AccessOption",component:it,options:{title:""}}),(0,N.jsx)(At.Screen,{name:"ListOfAssociatedTherapists",component:Tt,options:{title:""}}),(0,N.jsx)(At.Screen,{name:"PatientDetails",component:Dt,options:{title:""}}),(0,N.jsx)(At.Screen,{name:"ManagementByTheParent",component:kt,options:{title:""}}),(0,N.jsx)(At.Screen,{name:"Theme",component:yt,options:{title:""}}),(0,N.jsx)(At.Screen,{name:"Manage",component:at,options:{title:""}}),(0,N.jsx)(At.Screen,{name:"Settings",component:rt,options:{title:""}})]})})})}}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.m=e,(()=>{var e=[];r.O=(t,n,a,o)=>{if(!n){var i=1/0;for(c=0;c<e.length;c++){for(var[n,a,o]=e[c],s=!0,l=0;l<n.length;l++)(!1&o||i>=o)&&Object.keys(r.O).every((e=>r.O[e](n[l])))?n.splice(l--,1):(s=!1,o<i&&(i=o));if(s){e.splice(c--,1);var u=a();void 0!==u&&(t=u)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[n,a,o]}})(),r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(n,a){if(1&a&&(n=this(n)),8&a)return n;if("object"===typeof n&&n){if(4&a&&n.__esModule)return n;if(16&a&&"function"===typeof n.then)return n}var o=Object.create(null);r.r(o);var i={};e=e||[null,t({}),t([]),t(t)];for(var s=2&a&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>i[e]=()=>n[e]));return i.default=()=>n,r.d(o,i),o}})(),r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r.p="/",(()=>{var e={179:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var a,o,[i,s,l]=n,u=0;if(i.some((t=>0!==e[t]))){for(a in s)r.o(s,a)&&(r.m[a]=s[a]);if(l)var c=l(r)}for(t&&t(n);u<i.length;u++)o=i[u],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(c)},n=self.webpackChunkweb=self.webpackChunkweb||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var n=r.O(void 0,[959],(()=>r(6271)));n=r.O(n)})();
//# sourceMappingURL=main.72824d87.js.map