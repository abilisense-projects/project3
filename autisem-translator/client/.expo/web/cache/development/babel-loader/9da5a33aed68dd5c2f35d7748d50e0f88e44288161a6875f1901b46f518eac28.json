{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport AudioRecorderPlayer from 'react-native-audio-recorder-player';\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { useState } from 'react';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar audioRecorderPlayer = new AudioRecorderPlayer();\nvar _useState = useState({\n    currentPositionSec: null,\n    currentDurationSec: null,\n    playTime: null,\n    duration: null\n  }),\n  _useState2 = _slicedToArray(_useState, 2),\n  rec = _useState2[0],\n  setRec = _useState2[1];\nvar onStartRecord = function () {\n  var _ref = _asyncToGenerator(function* () {\n    var result = yield audioRecorderPlayer.startRecorder();\n    audioRecorderPlayer.addRecordBackListener(function (e) {\n      setRec({\n        recordSecs: e.currentPosition,\n        recordTime: audioRecorderPlayer.mmssss(Math.floor(e.currentPosition))\n      });\n      return;\n    });\n    console.log(result);\n  });\n  return function onStartRecord() {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar onStopRecord = function () {\n  var _ref2 = _asyncToGenerator(function* () {\n    var result = yield audioRecorderPlayer.stopRecorder();\n    audioRecorderPlayer.removeRecordBackListener();\n    setRec({\n      recordSecs: 0\n    });\n    console.log(result);\n  });\n  return function onStopRecord() {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar onStartPlay = function () {\n  var _ref3 = _asyncToGenerator(function* () {\n    console.log('onStartPlay');\n    var msg = yield audioRecorderPlayer.startPlayer();\n    console.log(msg);\n    audioRecorderPlayer.addPlayBackListener(function (e) {\n      setRec({\n        currentPositionSec: e.currentPosition,\n        currentDurationSec: e.duration,\n        playTime: audioRecorderPlayer.mmssss(Math.floor(e.currentPosition)),\n        duration: audioRecorderPlayer.mmssss(Math.floor(e.duration))\n      });\n      return;\n    });\n  });\n  return function onStartPlay() {\n    return _ref3.apply(this, arguments);\n  };\n}();\nvar onPausePlay = function () {\n  var _ref4 = _asyncToGenerator(function* () {\n    yield audioRecorderPlayer.pausePlayer();\n  });\n  return function onPausePlay() {\n    return _ref4.apply(this, arguments);\n  };\n}();\nvar onStopPlay = function () {\n  var _ref5 = _asyncToGenerator(function* () {\n    console.log('onStopPlay');\n    audioRecorderPlayer.stopPlayer();\n    audioRecorderPlayer.removePlayBackListener();\n  });\n  return function onStopPlay() {\n    return _ref5.apply(this, arguments);\n  };\n}();\nexport default function Recording() {\n  return _jsxs(View, {\n    children: [_jsx(Text, {\n      children: \"Recording\"\n    }), _jsx(Button, {\n      onPress: onStartRecord,\n      title: \"Rec\",\n      color: \"#841584\"\n    }), _jsx(Button, {\n      onPress: function onPress() {\n        onStopRecord;\n      },\n      title: \"stop\",\n      color: \"#841584\"\n    }), _jsx(Button, {\n      onPress: function onPress() {\n        onStartPlay;\n      },\n      title: \"play\",\n      color: \"#841584\"\n    })]\n  });\n}","map":{"version":3,"names":["AudioRecorderPlayer","View","Button","Text","useState","jsx","_jsx","jsxs","_jsxs","audioRecorderPlayer","_useState","currentPositionSec","currentDurationSec","playTime","duration","_useState2","_slicedToArray","rec","setRec","onStartRecord","_ref","_asyncToGenerator","result","startRecorder","addRecordBackListener","e","recordSecs","currentPosition","recordTime","mmssss","Math","floor","console","log","apply","arguments","onStopRecord","_ref2","stopRecorder","removeRecordBackListener","onStartPlay","_ref3","msg","startPlayer","addPlayBackListener","onPausePlay","_ref4","pausePlayer","onStopPlay","_ref5","stopPlayer","removePlayBackListener","Recording","children","onPress","title","color"],"sources":["C:/Users/h0533/Desktop/project3/autisem-translator/client/components/recording.js"],"sourcesContent":["import AudioRecorderPlayer from 'react-native-audio-recorder-player';\r\nimport {\r\n    View,\r\n    Button,\r\n    Text,\r\n} from 'react-native';\r\nimport { useState } from 'react';\r\n\r\n\r\nconst audioRecorderPlayer = new AudioRecorderPlayer();\r\nconst [rec, setRec] = useState({\r\n    currentPositionSec: null,\r\n    currentDurationSec: null,\r\n    playTime: null,\r\n    duration: null,\r\n  });\r\n  const onStartRecord = async () => {\r\n    const result = await audioRecorderPlayer.startRecorder();\r\n    audioRecorderPlayer.addRecordBackListener((e) => {\r\n        setRec({\r\n            recordSecs: e.currentPosition,\r\n            recordTime: audioRecorderPlayer.mmssss(\r\n                Math.floor(e.currentPosition),\r\n            ),\r\n        });\r\n        return;\r\n    });\r\n    console.log(result);\r\n};\r\n\r\nconst onStopRecord = async () => {\r\n    const result = await audioRecorderPlayer.stopRecorder();\r\n    audioRecorderPlayer.removeRecordBackListener();\r\n    setRec({\r\n        recordSecs: 0,\r\n    });\r\n    console.log(result);\r\n};\r\n\r\nconst onStartPlay = async () => {\r\n    console.log('onStartPlay');\r\n    const msg = await audioRecorderPlayer.startPlayer();\r\n    console.log(msg);\r\n    audioRecorderPlayer.addPlayBackListener((e) => {\r\n        setRec({\r\n            currentPositionSec: e.currentPosition,\r\n            currentDurationSec: e.duration,\r\n            playTime: audioRecorderPlayer.mmssss(Math.floor(e.currentPosition)),\r\n            duration: audioRecorderPlayer.mmssss(Math.floor(e.duration)),\r\n        });\r\n        return;\r\n    });\r\n};\r\n\r\nconst onPausePlay = async () => {\r\n    await audioRecorderPlayer.pausePlayer();\r\n};\r\n\r\nconst onStopPlay = async () => {\r\n    console.log('onStopPlay');\r\n    audioRecorderPlayer.stopPlayer();\r\n    audioRecorderPlayer.removePlayBackListener();\r\n};\r\n\r\nexport default function Recording() {\r\n    return (\r\n        <View>\r\n            <Text>Recording</Text>\r\n            <Button\r\n                onPress={onStartRecord}\r\n                title=\"Rec\"\r\n                color=\"#841584\"\r\n            />\r\n            <Button\r\n                onPress={() => { onStopRecord }}\r\n                title=\"stop\"\r\n                color=\"#841584\"\r\n            />\r\n            <Button\r\n                onPress={() => { onStartPlay }}\r\n                title=\"play\"\r\n                color=\"#841584\"\r\n            />\r\n        </View>\r\n    );\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}